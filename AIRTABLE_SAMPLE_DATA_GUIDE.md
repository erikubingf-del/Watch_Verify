# üìä AIRTABLE SAMPLE DATA - Step-by-Step Guide

This guide shows you **exactly** what sample data to add to each Airtable table for testing.

---

## üéØ Which Tables Need Sample Data?

### ‚úÖ REQUIRED (Must Create Sample Data):
1. **Table 1: Tenants** - Your store information
2. **Table 2: StoreNumbers** - Your Twilio number mapping
3. **Table 8: Users** - Admin login
4. **Table 10: Salespeople** - At least 1 salesperson (Patricia)
5. **Table 12: StoreAvailability** - Time slots for booking

### ‚ö†Ô∏è OPTIONAL (Can Be Empty Initially):
- Table 3: Customers - Will be populated automatically via WhatsApp
- Table 4: Messages - Populated automatically
- Table 11: Appointments - Created via booking flow
- Table 17: BookingSessions - Created automatically
- All other tables - Can be empty for initial testing

---

# üìù SAMPLE DATA - STEP BY STEP

---

## ‚úÖ Table 1: Tenants

**Create 1 Record:**

### Click "+" to add new record, then fill:

| Field | Value to Enter |
|-------|----------------|
| `name` | **Boutique Premium SP** (or your store name) |
| `logo_url` | Leave empty (optional) |
| `primary_color` | **#0ea5e9** (sky blue) |
| `twilio_number` | **+5511999999999** (your actual Twilio WhatsApp number) |
| `created_at` | Click calendar ‚Üí Select today's date and current time |
| `active` | ‚úì Check the box |

### After Creating:
- **IMPORTANT:** Copy the Record ID that appears in the URL
- Example: `recXXXXXXXXXXXXXX`
- You'll need this for linking other tables

**Screenshot:** Save as `01-tenants.png`

---

## ‚úÖ Table 2: StoreNumbers

**Create 1 Record:**

### Click "+" to add new record:

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Click ‚Üí Search for "Boutique Premium SP" ‚Üí Select it |
| `phone` | **+5511999999999** (same as your Twilio number) |
| `active` | ‚úì Check the box |

### What This Does:
- Maps incoming WhatsApp messages to your tenant
- Critical for multi-tenant routing

**Screenshot:** Save as `02-store-numbers.png`

---

## ‚úÖ Table 3: Customers

**Can Be Empty Initially** - but here's sample data if you want to test:

### Optional Sample Record:

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `phone` | **+5511988888888** (test customer number) |
| `name` | **Jo√£o Silva** |
| `email` | **joao@example.com** |
| `interests` | **["Rolex Submariner", "diving watches"]** |
| `last_interest` | **Rolex Submariner** |
| `budget_range` | **luxury** (select from dropdown) |
| `vip` | ‚úì Check the box |
| `notes` | **Cliente VIP, gosta de rel√≥gios esportivos** |
| `last_purchase` | Leave empty or select a past date |
| `created_at` | Today's date and time |
| `deleted_at` | Leave empty |

**Screenshot:** Save as `03-customers.png`

**Note:** This table will be populated automatically when customers message via WhatsApp.

---

## ‚úÖ Table 4: Messages

**Leave Empty** - Populated automatically when WhatsApp messages are received.

**Screenshot:** Save as `04-messages.png` (even if empty)

---

## ‚úÖ Table 5: WatchVerify

**Leave Empty** - Will be populated when customers request watch verification.

**Screenshot:** Save as `05-watch-verify.png` (even if empty)

---

## ‚úÖ Table 6: Catalog

**Optional - Add 2-3 Sample Products for Testing:**

### Sample Product 1: Rolex Submariner

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `title` | **Rolex Submariner Date 116610LN** |
| `description` | **Rel√≥gio autom√°tico de mergulho, 40mm, a√ßo inoxid√°vel, mostrador preto, data, resist√™ncia √† √°gua 300m. Movimento calibre 3135 autom√°tico com 48h de reserva de marcha.** |
| `category` | **watches** (select from dropdown) |
| `brand` | **Rolex** |
| `price` | **85000.00** |
| `image_url` | Leave empty (or add a product image URL) |
| `tags` | Select: **luxury**, **sport**, **automatic** |
| `stock_quantity` | **2** |
| `delivery_options` | **both** (select from dropdown) |
| `embedding` | Leave empty (will be generated by script) |
| `active` | ‚úì Check the box |
| `created_at` | Today's date and time |

### Sample Product 2: Omega Seamaster

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `title` | **Omega Seamaster Diver 300M** |
| `description` | **Rel√≥gio de mergulho profissional, 42mm, a√ßo inoxid√°vel, mostrador azul ondulado, resist√™ncia √† √°gua 300m. Movimento coaxial autom√°tico.** |
| `category` | **watches** |
| `brand` | **Omega** |
| `price` | **42000.00** |
| `image_url` | Leave empty |
| `tags` | **luxury**, **sport**, **automatic** |
| `stock_quantity` | **1** |
| `delivery_options` | **both** |
| `embedding` | Leave empty |
| `active` | ‚úì Check the box |
| `created_at` | Today's date and time |

### Sample Product 3: Cartier Tank

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `title` | **Cartier Tank Solo** |
| `description` | **Rel√≥gio cl√°ssico de vestir, 31mm, a√ßo inoxid√°vel, mostrador branco com numerais romanos, pulseira de couro. Movimento a quartzo.** |
| `category` | **watches** |
| `brand` | **Cartier** |
| `price` | **28000.00** |
| `image_url` | Leave empty |
| `tags` | **luxury**, **dress**, **quartz** |
| `stock_quantity` | **3** |
| `delivery_options` | **store_only** |
| `embedding` | Leave empty |
| `active` | ‚úì Check the box |
| `created_at` | Today's date and time |

**Screenshot:** Save as `06-catalog.png`

**Important:** After adding products, run:
```bash
npm run sync-catalog
```
This will generate embeddings for semantic search.

---

## ‚úÖ Table 7: Settings

**Create 1 Record:**

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `brand` | **Boutique Premium** |
| `logo` | Leave empty |
| `primary` | **#0ea5e9** |
| `welcome_message` | **Ol√°! Bem-vindo √† Boutique Premium. Como posso ajud√°-lo hoje? üòä** |
| `business_hours` | **Seg-Sex: 10h-19h\nS√°b: 10h-15h** |
| `updated_at` | Today's date and time |

**Screenshot:** Save as `07-settings.png`

---

## ‚úÖ Table 8: Users ‚≠ê CRITICAL

**Create 1 Admin User:**

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `email` | **admin@boutique.com** (your email) |
| `password_hash` | **$2b$10$rR8E7VrZl6vZ5ZxJ5qY.YOZl8P5KZ5Z5Z5Z5Z5Z5Z5Z5Z5Z5Z5Z5a** |
| `name` | **Admin Boutique** (your name) |
| `role` | **admin** (select from dropdown) |
| `active` | ‚úì Check the box |
| `created_at` | Today's date and time |

### Important Notes About Password:
- The hash above is for password: **"password123"** (for testing only!)
- To generate your own hash, run:
  ```bash
  npm run hash-password
  ```
- Never use "password123" in production!

**Screenshot:** Save as `08-users.png`

---

## ‚úÖ Table 9: VerificationSessions

**Leave Empty** - Created automatically during verification workflow.

**Screenshot:** Save as `09-verification-sessions.png` (even if empty)

---

## ‚úÖ Table 10: Salespeople ‚≠ê CRITICAL FOR BOOKING

**Create 1 Record (Patricia):**

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `name` | **Patricia** |
| `phone` | **+5511995843051** (your test WhatsApp number) |
| `whatsapp` | **+5511995843051** (same number) |
| `email` | **patricia@boutique.com** |
| `max_daily_appointments` | **5** |
| `working_hours` | **{"mon":"9-18","tue":"9-18","wed":"9-18","thu":"9-18","fri":"9-18","sat":"10-16"}** |
| `active` | ‚úì Check the box |
| `created_at` | Today's date and time |

### Optional: Add Second Salesperson

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `name` | **Carlos** |
| `phone` | **+5511987654321** |
| `whatsapp` | **+5511987654321** |
| `email` | **carlos@boutique.com** |
| `max_daily_appointments` | **5** |
| `working_hours` | **{"mon":"9-18","tue":"9-18","wed":"9-18","thu":"9-18","fri":"9-18"}** |
| `active` | ‚úì Check the box |
| `created_at` | Today's date and time |

**Screenshot:** Save as `10-salespeople.png`

**What This Does:**
- Patricia will receive appointment notifications
- Round-robin assignment distributes appointments fairly

---

## ‚úÖ Table 11: Appointments

**Leave Empty** - Will be created via booking flow when customers say "agendar".

**Screenshot:** Save as `11-appointments.png` (even if empty)

---

## ‚úÖ Table 12: StoreAvailability ‚≠ê CRITICAL FOR BOOKING

**Create Time Slots for Friday (day_of_week = 5):**

### Slot 1: Friday 10:00 AM

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `day_of_week` | **5** (Friday - select from dropdown) |
| `time_slot` | **10:00** |
| `max_bookings` | **5** |
| `active` | ‚úì Check the box |

### Slot 2: Friday 2:00 PM

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `day_of_week` | **5** (Friday) |
| `time_slot` | **14:00** |
| `max_bookings` | **5** |
| `active` | ‚úì Check the box |

### Slot 3: Friday 4:00 PM

| Field | Value to Enter |
|-------|----------------|
| `tenant_id` | Link to "Boutique Premium SP" |
| `day_of_week` | **5** (Friday) |
| `time_slot` | **16:00** |
| `max_bookings` | **5** |
| `active` | ‚úì Check the box |

### Optional: Add Monday Slots (day_of_week = 1)

Repeat the same pattern for Monday:

| tenant_id | day_of_week | time_slot | max_bookings | active |
|-----------|-------------|-----------|--------------|--------|
| Link to tenant | **1** | **10:00** | **5** | ‚úì |
| Link to tenant | **1** | **14:00** | **5** | ‚úì |
| Link to tenant | **1** | **16:00** | **5** | ‚úì |

**Screenshot:** Save as `12-store-availability.png`

**Day of Week Reference:**
- 0 = Sunday
- 1 = Monday
- 2 = Tuesday
- 3 = Wednesday
- 4 = Thursday
- 5 = Friday
- 6 = Saturday

---

## ‚úÖ Table 13: PaymentProviders

**Leave Empty** - Add later when you configure payment integration.

**Screenshot:** Save as `13-payment-providers.png` (even if empty)

---

## ‚úÖ Table 14: PaymentLinks

**Leave Empty** - Created automatically when payment links are generated.

**Screenshot:** Save as `14-payment-links.png` (even if empty)

---

## ‚úÖ Table 15: Campaigns

**Leave Empty** - Created when you run marketing campaigns.

**Screenshot:** Save as `15-campaigns.png` (even if empty)

---

## ‚úÖ Table 16: CampaignSessions

**Leave Empty** - Created automatically during campaign creation.

**Screenshot:** Save as `16-campaign-sessions.png` (even if empty)

---

## ‚úÖ Table 17: BookingSessions

**Leave Empty** - Created automatically during booking conversations.

**Screenshot:** Save as `17-booking-sessions.png` (even if empty)

---

# üìã SUMMARY CHECKLIST

## Tables That MUST Have Sample Data:

- [x] **Table 1: Tenants** - 1 record (your store)
- [x] **Table 2: StoreNumbers** - 1 record (your Twilio number)
- [x] **Table 8: Users** - 1 record (admin login)
- [x] **Table 10: Salespeople** - 1 record (Patricia with your test WhatsApp)
- [x] **Table 12: StoreAvailability** - 3+ records (Friday time slots)

## Tables That Can Be Empty:

- [ ] **Table 3: Customers** - Populated via WhatsApp
- [ ] **Table 4: Messages** - Populated via WhatsApp
- [ ] **Table 5: WatchVerify** - Populated during verification
- [ ] **Table 9: VerificationSessions** - Auto-created
- [ ] **Table 11: Appointments** - Created via booking flow
- [ ] **Table 13-17** - All optional for initial testing

## Tables That Are Optional But Recommended:

- [ ] **Table 6: Catalog** - 2-3 products for testing semantic search
- [ ] **Table 7: Settings** - 1 record for custom branding

---

# üöÄ AFTER ADDING SAMPLE DATA

## 1. Get Your Airtable Credentials

### Get Base ID:
1. Open your Airtable base
2. Look at the URL: `https://airtable.com/appXXXXXXXXXXXXXX/...`
3. Copy the part that starts with `app` (e.g., `appXXXXXXXXXXXXXX`)

### Generate API Token:
1. Go to https://airtable.com/create/tokens
2. Click "Create new token"
3. Name it: **Watch Verify Production**
4. Add scopes:
   - `data.records:read`
   - `data.records:write`
5. Add access to your base
6. Click "Create token"
7. Copy the token (starts with `pat`)

## 2. Update Your .env.local

```bash
# In your project root
nano .env.local
```

Add these lines (replace with your actual values):

```env
AIRTABLE_BASE_ID=appXXXXXXXXXXXXXX
AIRTABLE_PAT=patXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
```

## 3. Test Connection

```bash
# Start dev server
npm run dev

# In another terminal, test API
curl http://localhost:3000/api/export?scope=customers
```

You should see your sample customer data (if you added any).

## 4. Test Booking via WhatsApp

Send this message to your Twilio WhatsApp number:

```
agendar
```

You should receive a response asking for a date.

---

# üìä EXPECTED RECORD COUNTS AFTER SETUP

| Table | Minimum Records |
|-------|----------------|
| Tenants | 1 |
| StoreNumbers | 1 |
| Users | 1 |
| Salespeople | 1 |
| StoreAvailability | 3 |
| **TOTAL CRITICAL** | **7 records** |

| Table | Optional Records |
|-------|-----------------|
| Catalog | 0-3 |
| Customers | 0-1 |
| Settings | 0-1 |
| **TOTAL OPTIONAL** | **0-5 records** |

**All other tables can be empty (0 records) for initial testing.**

---

# ‚ùì TROUBLESHOOTING

## "Can't find tenant_id field"
- Make sure you created Table 1 (Tenants) first
- Refresh your Airtable browser tab
- Try adding the linked field again

## "Invalid phone number format"
- Use international format: `+5511999999999`
- Include the `+` sign
- No spaces or dashes

## "Can't create linked record"
- Make sure the table you're linking to exists
- Make sure you created at least 1 record in that table
- Refresh Airtable

## "JSON field won't accept my text"
- For `working_hours`, use this exact format:
  ```json
  {"mon":"9-18","tue":"9-18","wed":"9-18","thu":"9-18","fri":"9-18","sat":"10-16"}
  ```
- For `interests`, use this format:
  ```json
  ["Rolex Submariner", "diving watches"]
  ```
- Copy-paste exactly as shown

---

**You're ready to set up your Airtable database!** üéØ

Follow this guide step-by-step and you'll have all the sample data needed for testing in 30-40 minutes.
